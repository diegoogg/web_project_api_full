{"ast":null,"code":"import React,{useState}from\"react\";import{Link,useHistory}from\"react-router-dom\";import*as auth from\"../utils/auth\";import\"../blocks/login.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(_ref){let{setIsLoggedIn,email,setEmail}=_ref;const[password,setPassword]=useState(\"\");const history=useHistory();const handleSubmit=e=>{e.preventDefault();if(!email||!password){return;}auth.login(email,password).then(res=>{console.log(\"token\",res);if(res.token){localStorage.setItem(\"jwt\",res.token);setIsLoggedIn(true);history.push(\"/home\");}}).catch(console.log);};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"login\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"login__welcome\",children:\"Iniciar Sesion\"}),/*#__PURE__*/_jsxs(\"form\",{className:\"login_info\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"email\",children:\"Correo Electronico\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"email\",type:\"email\",className:\"login__input\",value:email,onChange:e=>setEmail(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"login__divider\"}),/*#__PURE__*/_jsx(\"label\",{htmlFor:\"password\",children:\"Contrase\\xF1a\"}),/*#__PURE__*/_jsx(\"input\",{required:true,name:\"password\",type:\"password\",className:\"login__input\",value:password,onChange:e=>setPassword(e.target.value)}),/*#__PURE__*/_jsx(\"span\",{className:\"login__divider\"}),/*#__PURE__*/_jsx(\"div\",{className:\"login__button\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"login__link\",children:\"Iniciar Sesion\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"login__signup\",children:[/*#__PURE__*/_jsx(\"p\",{children:\"\\xBFA\\xFAn no eres miembro? \"}),/*#__PURE__*/_jsx(Link,{to:\"register\",className:\"login__signup-link\",children:\"Registrate aqui\"})]})]})});}","map":{"version":3,"names":["React","useState","Link","useHistory","auth","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Login","_ref","setIsLoggedIn","email","setEmail","password","setPassword","history","handleSubmit","e","preventDefault","login","then","res","console","log","token","localStorage","setItem","push","catch","children","className","onSubmit","htmlFor","required","name","type","value","onChange","target","to"],"sources":["C:/Users/105833781/web_project_api_full/frontend/src/components/Login.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport * as auth from \"../utils/auth\";\r\nimport \"../blocks/login.css\";\r\n\r\nexport default function Login({ setIsLoggedIn, email, setEmail }) {\r\n  const [password, setPassword] = useState(\"\");\r\n  const history = useHistory();\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    if (!email || !password) {\r\n      return;\r\n    }\r\n    auth\r\n      .login(email, password)\r\n      .then((res) => {\r\n        console.log(\"token\", res);\r\n        if (res.token) {\r\n          localStorage.setItem(\"jwt\", res.token);\r\n          setIsLoggedIn(true);\r\n          history.push(\"/home\");\r\n        }\r\n      })\r\n      .catch(console.log);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div className=\"login\">\r\n        <p className=\"login__welcome\">Iniciar Sesion</p>\r\n        <form className=\"login_info\" onSubmit={handleSubmit}>\r\n          <label htmlFor=\"email\">Correo Electronico</label>\r\n          <input\r\n            required\r\n            name=\"email\"\r\n            type=\"email\"\r\n            className=\"login__input\"\r\n            value={email}\r\n            onChange={(e) => setEmail(e.target.value)}\r\n          ></input>\r\n          <span className=\"login__divider\"></span>\r\n          <label htmlFor=\"password\">Contraseña</label>\r\n          <input\r\n            required\r\n            name=\"password\"\r\n            type=\"password\"\r\n            className=\"login__input\"\r\n            value={password}\r\n            onChange={(e) => setPassword(e.target.value)}\r\n          ></input>\r\n          <span className=\"login__divider\"></span>\r\n          <div className=\"login__button\">\r\n            <button type=\"submit\" className=\"login__link\">\r\n              Iniciar Sesion\r\n            </button>\r\n          </div>\r\n        </form>\r\n        <div className=\"login__signup\">\r\n          <p>¿Aún no eres miembro? </p>\r\n          <Link to=\"register\" className=\"login__signup-link\">\r\n            Registrate aqui\r\n          </Link>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,OAASC,IAAI,CAAEC,UAAU,KAAQ,kBAAkB,CACnD,MAAO,GAAK,CAAAC,IAAI,KAAM,eAAe,CACrC,MAAO,qBAAqB,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,CAAAC,QAAA,IAAAC,SAAA,yBAE7B,cAAe,SAAS,CAAAC,KAAKA,CAAAC,IAAA,CAAqC,IAApC,CAAEC,aAAa,CAAEC,KAAK,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAC9D,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGhB,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAAiB,OAAO,CAAGf,UAAU,CAAC,CAAC,CAE5B,KAAM,CAAAgB,YAAY,CAAIC,CAAC,EAAK,CAC1BA,CAAC,CAACC,cAAc,CAAC,CAAC,CAClB,GAAI,CAACP,KAAK,EAAI,CAACE,QAAQ,CAAE,CACvB,OACF,CACAZ,IAAI,CACDkB,KAAK,CAACR,KAAK,CAAEE,QAAQ,CAAC,CACtBO,IAAI,CAAEC,GAAG,EAAK,CACbC,OAAO,CAACC,GAAG,CAAC,OAAO,CAAEF,GAAG,CAAC,CACzB,GAAIA,GAAG,CAACG,KAAK,CAAE,CACbC,YAAY,CAACC,OAAO,CAAC,KAAK,CAAEL,GAAG,CAACG,KAAK,CAAC,CACtCd,aAAa,CAAC,IAAI,CAAC,CACnBK,OAAO,CAACY,IAAI,CAAC,OAAO,CAAC,CACvB,CACF,CAAC,CAAC,CACDC,KAAK,CAACN,OAAO,CAACC,GAAG,CAAC,CACvB,CAAC,CAED,mBACEpB,IAAA,CAAAI,SAAA,EAAAsB,QAAA,cACExB,KAAA,QAAKyB,SAAS,CAAC,OAAO,CAAAD,QAAA,eACpB1B,IAAA,MAAG2B,SAAS,CAAC,gBAAgB,CAAAD,QAAA,CAAC,gBAAc,CAAG,CAAC,cAChDxB,KAAA,SAAMyB,SAAS,CAAC,YAAY,CAACC,QAAQ,CAAEf,YAAa,CAAAa,QAAA,eAClD1B,IAAA,UAAO6B,OAAO,CAAC,OAAO,CAAAH,QAAA,CAAC,oBAAkB,CAAO,CAAC,cACjD1B,IAAA,UACE8B,QAAQ,MACRC,IAAI,CAAC,OAAO,CACZC,IAAI,CAAC,OAAO,CACZL,SAAS,CAAC,cAAc,CACxBM,KAAK,CAAEzB,KAAM,CACb0B,QAAQ,CAAGpB,CAAC,EAAKL,QAAQ,CAACK,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE,CACpC,CAAC,cACTjC,IAAA,SAAM2B,SAAS,CAAC,gBAAgB,CAAO,CAAC,cACxC3B,IAAA,UAAO6B,OAAO,CAAC,UAAU,CAAAH,QAAA,CAAC,eAAU,CAAO,CAAC,cAC5C1B,IAAA,UACE8B,QAAQ,MACRC,IAAI,CAAC,UAAU,CACfC,IAAI,CAAC,UAAU,CACfL,SAAS,CAAC,cAAc,CACxBM,KAAK,CAAEvB,QAAS,CAChBwB,QAAQ,CAAGpB,CAAC,EAAKH,WAAW,CAACG,CAAC,CAACqB,MAAM,CAACF,KAAK,CAAE,CACvC,CAAC,cACTjC,IAAA,SAAM2B,SAAS,CAAC,gBAAgB,CAAO,CAAC,cACxC3B,IAAA,QAAK2B,SAAS,CAAC,eAAe,CAAAD,QAAA,cAC5B1B,IAAA,WAAQgC,IAAI,CAAC,QAAQ,CAACL,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,gBAE9C,CAAQ,CAAC,CACN,CAAC,EACF,CAAC,cACPxB,KAAA,QAAKyB,SAAS,CAAC,eAAe,CAAAD,QAAA,eAC5B1B,IAAA,MAAA0B,QAAA,CAAG,8BAAsB,CAAG,CAAC,cAC7B1B,IAAA,CAACJ,IAAI,EAACwC,EAAE,CAAC,UAAU,CAACT,SAAS,CAAC,oBAAoB,CAAAD,QAAA,CAAC,iBAEnD,CAAM,CAAC,EACJ,CAAC,EACH,CAAC,CACN,CAAC,CAEP","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}